<!DOCTYPE html>
<html>
    <script>
        window.onload = function () {
          var urlParams = new URLSearchParams(window.location.search);
          if (urlParams.has("username")) { //gets username data and displays in URL
            forms.fullname.value = urlParams.get("fullname");
            forms.username.value = urlParams.get("username");
            forms.email.value = urlParams.get("email");
            forms.password.value = urlParams.get("password");
            forms.repeat_password.value = urlParams.get("repeat_password");
            if (urlParams.has("username_error")) { //if there are username errors, get username errors and display in URL
              username_label.innerHTML = urlParams.get("username_error");
            }
            if (urlParams.has("fullname_error")) { //if there are fullname errors, get fullname errors and display in URL
              fullname_label.innerHTML = urlParams.get("fullname_error");
            }
            if (urlParams.has("password_error")) { //if there are password errors, get password errors and display in URL
              password_label.innerHTML = urlParams.get("password_error");
            }
            if (urlParams.has("email_error")) { //if there are fullname errors, get fullname errors and display in URL
              fullname_label.innerHTML = urlParams.get("email_error");
            }
            checkpassword(); //will look at checkpassword function below
          }
        }
      </script>

<head>
  <script>

    //checks if password is equal to repeat_password on html form
    //if they do not match, it will show as error message that says passwords don't match, please retype
    //borrowed from Jayla and Melissa
    function checkpassword() {
      var p = forms.password.value;
      var cp = forms.repeat_password.value;
      if (p == cp) { }
      else
        alert("Passwords Don't Match. Please Retype")
      response.redirect("register.html?"); //if passwords don't match, redirect back to registration html page
    }
  </script>
  
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /* borrowed from w3schools.com */
    /* https://www.w3schools.com/howto/howto_js_password_validation.asp */
    /* Style all input fields */
    html{background-color: violet;}
    input {
      width: 100%;
      padding: 12px;
      border: 1px solid purple;
      border-radius: 4px;
      box-sizing: border-box;
      margin-top: 6px;
      margin-bottom: 16px;
    }
    /* Style the submit button */
    input[type=submit] {
      background-color: rgb(24, 223, 24);
      color: rgb(0, 0, 0);
    }
    /* Style the container for inputs */
    .container {
      background-color: violet;
      padding: 20px;
    }
    /* The message box is shown when the user clicks on the password field */
    #message {
      display: none;
      background: gold;
      color: #000;
      position: relative;
      padding: 20px;
      margin-top: 10px;
    }
    #message p {
      padding: 10px 35px;
      font-size: 18px;
    }
  
  </style>
</head>

</body>

<p>Registration is easy!</p>
<script>
    //<div class="container"> is for registration form
    //placeholder shows what's on the textbox (removed when something is typed in the textbox)
    //required title shows requirements as user is filling out the registration form (only when the requirements are not met)
</script>
<div class="container">
  <form name="forms" method="POST" action="">
    <input type="text" name="fullname" size="40" maxlength="30" placeholder="Enter First & Last Name" required
      title="Only Letters and add a space"><label for="fullname" id="fullname_label"></label><br />
    <input type="text" name="username" size="40" required title="Either 4-10 Characters & only numbers/letters"
      placeholder="Create Username"><label for="username" id="username_label"></label><br />
    <input type="password" id="password" name="password" size="40" required title="6 characters minimum"
      placeholder="Create Password"><br />
    <input type="password" id="repeat_password" name="repeat_password" size="40" pattern=".{6,}" required
      title="6 characters minimum" placeholder="Re-enter Password"><br />
    <input type="email" name="email" size="40" placeholder="Enter Email" required
      title="Invalid! Make sure your email contains the following... 1. @ sign 2. Three letters in domain name 3. Only numbers/characters and _ & . may be used. "><label
      for="email" id="email_label"></label><br />

    <input type="submit" value="Register" id="submit" onclick="checkpassword()">

  </form>
</div>

<a href="login.html"> Click here to go back to login page </a>

</html>